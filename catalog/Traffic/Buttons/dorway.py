from aiogram import Router, types
from aiogram.types import FSInputFile, InlineKeyboardMarkup, InlineKeyboardButton, InputMediaPhoto

router = Router()

@router.callback_query(lambda c: c.data == "buy_dorway")
async def buy_dorway_callback(callback_query: types.CallbackQuery):
    photo = FSInputFile("catalog/Traffic/images/dorway.jpg")  # –ø—Ä–æ–≤–µ—Ä—å –ø—É—Ç—å –∫ –∫–∞—Ä—Ç–∏–Ω–∫–µ

    caption = (
        "<b>üìñ| –ü–æ–ª—É—á–∞–µ–º –¥–æ—Ä–≤–µ–π–Ω—ã–π —Ç—Ä–∞—Ñ–∏–∫ –∏–∑ –ø–æ–∏—Å–∫–∞ TG</b>\n\n"
        "–û–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö –∂–∏—Ä–Ω—ã—Ö –≤–∏–¥–æ–≤ —Ç—Ä–∞—Ñ–∏–∫–∞ –Ω–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç ‚Äî —É–¥–∞—á–Ω–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å –º–æ–∂–µ—Ç –æ–±–µ—Å–ø–µ—á–∏—Ç—å –≤–∞—Å –ø–∞—Å—Å–∏–≤–Ω–æ–π –ø—Ä–∏–±—ã–ª—å—é –ø—Ä–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö –≤–ª–æ–∂–µ–Ω–∏—è—Ö.\n\n"
        "–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ: –ø–æ–¥–±–∏—Ä–∞–µ—Ç–µ —É–¥–∞—á–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –±–æ—Ç–∞, –≤—ã–ø–æ–ª–Ω—è–µ—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ—Å—Ç—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π ‚Äî –∏ –ø–æ–ª—É—á–∞–µ—Ç–µ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π –ø–∞—Å—Å–∏–≤–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–æ—Ö–æ–¥–∞. –ü—Ä–∏ —É–¥–∞—á–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ —ç—Ç–æ —Å–æ—Ç–Ω–∏ —Ç—ã—Å—è—á —Ä—É–±–ª–µ–π –µ–∂–µ–º–µ—Å—è—á–Ω–æ.\n\n"
        "–í –º–∞–Ω—É–∞–ª–µ —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è:\n"
        "‚úÖ –ö–∞–∫ –≤—ã–≤–æ–¥–∏—Ç—å —Ç–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç–æ–≤ –≤ –ø–æ–∏—Å–∫\n"
        "‚úÖ –ö–∞–∫—É—é –ø–∞–Ω–µ–ª—å —É—Å–ª—É–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å\n"
        "‚úÖ 4 —Å–ø–æ—Å–æ–±–∞ –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏ (2 ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–∞—Å—Å–∏–≤–Ω—ã—Ö)\n\n"
        "üéÅ –ü–æ–ª—É—á–∏—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ –ø–∞–Ω–µ–ª—å, –≤–ª–∞–¥–µ–ª—å—Ü—ã –∫–æ—Ç–æ—Ä–æ–π –≤—Å–µ–≥–¥–∞ –ø–∏—à—É—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –ø–æ–∏—Å–∫–∞ ‚Äî –∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è –º–∞—Ç–µ—Ä–∏–∞–ª–∞ –Ω–∞–≤—Å–µ–≥–¥–∞.\n\n"
        "‚úÖ –í–ª–æ–∂–µ–Ω–∏—è –º–∏–Ω–∏–º—É–º –æ—Ç 5000‚ÇΩ\n"
        "‚úÖ –î–ª—è —Ä–∞–±–æ—Ç—ã –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å–º–∞—Ä—Ç—Ñ–æ–Ω–∞\n"
        "‚úÖ –í—Å—ë —Ä–∞–∑–∂—ë–≤–∞–Ω–æ ‚Äî —Å–ø—Ä–∞–≤–∏—Ç—Å—è –¥–∞–∂–µ –Ω–æ–≤–∏—á–æ–∫\n"
        "‚úÖ –û—Ç–ª–∏—á–Ω–æ –¥–ª—è –ø–∞—Å—Å–∏–≤–Ω–æ–π –ø—Ä–∏–±—ã–ª–∏\n"
        "‚úÖ –°–≤–µ—Ä—Ö–≤—ã—Å–æ–∫–∞—è –ø—Ä–∏–±—ã–ª—å\n\n"
        "‚≠êÔ∏è –û—Ç–∑—ã–≤—ã: @otzyvy\n\n"
        "<b>–í–ö–†–ê–¢–¶–ï:</b>\n"
        "üí∞ –ó–∞—Ä–∞–±–æ—Ç–æ–∫: –∫–æ–ª–æ—Å—Å–∞–ª—å–Ω–æ –æ–≥—Ä–æ–º–Ω—ã–π\n"
        "‚ö™Ô∏è –¶–≤–µ—Ç: –±–µ–ª—ã–π\n"
        "‚è≥ –°—Ä–æ–∫ –∂–∏–∑–Ω–∏: –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω\n"
        "‚õ∞ –ì–µ–æ: –Ω–µ –≤–∞–∂–Ω–æ\n"
        "ü§º‚Äç‚ôÄÔ∏è –ö–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è: –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø–æ–∏—Å–∫–∞\n\n"
        "<b>–¶–µ–Ω–∞ —É –Ω–∞—Å ‚Äî 2998.5‚ÇΩ</b>"
    )

    markup = InlineKeyboardMarkup(inline_keyboard=[
        [InlineKeyboardButton(text="üí≥ –ö—É–ø–∏—Ç—å –∑–∞ 2998.5‚ÇΩ", callback_data="pay_dorway")],
        [InlineKeyboardButton(text="üéÅ –ï—Å—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥", callback_data="promo_dorway")],
        [InlineKeyboardButton(text="üì§ –ü–æ–¥–µ–ª–∏—Ç—å—Å—è", switch_inline_query="–î–æ—Ä–≤–µ–π–Ω—ã–π —Ç—Ä–∞—Ñ–∏–∫ –∏–∑ –ø–æ–∏—Å–∫–∞ TG")],
        [InlineKeyboardButton(text="üîô –ù–∞–∑–∞–¥", callback_data="item_traffic")]
    ])

    await callback_query.message.edit_media(
        media=InputMediaPhoto(media=photo, caption=caption, parse_mode="HTML"),
        reply_markup=markup
    )

    await callback_query.answer()
